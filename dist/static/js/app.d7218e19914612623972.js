webpackJsonp([1,2],[,,,,,,,,function(e,t,o){"use strict";var n=o(3),a=o(86),s=o(81),r=o.n(s),i=o(79),l=o.n(i),u=o(80),c=o.n(u);n.a.use(a.a),t.a=new a.a({routes:[{path:"/",name:"Home",component:r.a},{path:"/add",name:"Add",component:l.a},{path:"/edit/:poem_index",name:"Edit",component:c.a}]})},,,,,function(e,t,o){"use strict";var n=o(25),a=o.n(n),s=o(3),r=o(88),i=o(8);s.a.use(r.a),t.a=new r.a.Store({strict:0,state:{poems:[],selectedPoem:null,schema:{}},mutations:{poems:function(e,t){e.poems=t},selectedPoem:function(e,t){e.selectedPoem=t},schema:function(e,t){0===a()(e.schema).length&&(e.schema=t)}},actions:{getPoems:function(e){s.a.http.get("/api/getpoems").then(function(t){console.log(t.data),e.commit("poems",t.data)},function(t){e.commit("poems",[])}),s.a.http.get("/api/getschema").then(function(t){console.log(t.data),e.commit("schema",t.data)},function(t){e.commit("schema",{})})},selectPoem:function(e,t){e.commit("selectedPoem",t),i.a.push("/edit/"+t)}}})},,function(e,t){},,,function(e,t,o){o(68);var n=o(2)(o(20),o(83),null,null);e.exports=n.exports},,function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app",created:function(){console.log(this),this.$store.dispatch("getPoems")}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"add",data:function(){return{}},created:function(){},computed:{features:function e(){var e=this.schema;console.log("FEATURES",e);for(var t in e)"multiple-select"===e[t].type?e[t].value=[]:e[t].value=null;return e},schema:function(){return this.$store.state.schema},poem:function e(){var e={};for(var t in this.features)e[t]=this.features[t].value;return e}},methods:{save:function(){var e=this;this.$http.post("/api/addpoem",{body:this.poem}).then(function(t){t===!0?(alert("Poem added."),e.$route.push("/")):alert(t)})}},filters:{capitalize:function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""}}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(24),a=o.n(n);t.default={name:"edit",data:function(){return{features:{}}},created:function(){this.features=JSON.parse(a()(this.$store.state.schema));for(var e in this.features)console.log(e),this.features[e].value=null},computed:{poem:function e(){var t=this.$store.state.poems;console.log("All poems: ",t.length);var o=this.$route.params.poem_index;if(console.log("Current index: ",o),t&&t.length>o){var e=JSON.parse(a()(this.$store.state.schema)),n=t[o];console.log("Poem Values",n);for(var s in e)n[s]?e[s].value=n[s]:"multiple-select"===e[s].type?e[s].value=[]:e[s].value=null;return console.log("POEM: ",e),e}return{}}},methods:{save:function(){var e=this,t=this.$store.state.poems,o=this.$route.params.poem_index,n=t[o],a={};for(var s in n)this.poem[s]?a[s]=this.poem[s].value:a[s]=n[s];for(var r in this.poem)void 0===a[r]&&(a[r]=this.poem[r].value);this.$http.post("/api/savepoem",{body:a}).then(function(t){t===!0?(alert("Poem saved."),e.$route.push("/")):alert(t)})}},filters:{capitalize:function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""}}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"home",data:function(){return{}},computed:{existingPoems:function(){return console.log(this.$store.state.poems),this.$store.state.poems},selectedPoem:{get:function(){return this.$store.state.selectedPoem},set:function(e){console.log(e),this.$store.dispatch("selectPoem",e)}}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,function(e,t,o){e.exports=o.p+"static/img/fontawesome-webfont.912ec66.svg"},function(e,t,o){e.exports=o.p+"static/fonts/fontawesome-webfont.674f50d.eot"},function(e,t,o){e.exports=o.p+"static/fonts/fontawesome-webfont.674f50d.eot"},function(e,t,o){e.exports=o.p+"static/fonts/fontawesome-webfont.b06871f.ttf"},function(e,t,o){e.exports=o.p+"static/fonts/fontawesome-webfont.af7ae50.woff2"},function(e,t,o){e.exports=o.p+"static/fonts/fontawesome-webfont.fee66e7.woff"},function(e,t,o){o(69);var n=o(2)(o(21),o(84),"data-v-2c4dd8a4",null);e.exports=n.exports},function(e,t,o){o(67);var n=o(2)(o(22),o(82),"data-v-0933e317",null);e.exports=n.exports},function(e,t,o){o(70);var n=o(2)(o(23),o(85),"data-v-e6881128",null);e.exports=n.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.poem.title?o("div",{staticClass:"home"},[o("h2",[e._v("Edit "+e._s(e.poem.title.value))]),e._v(" "),o("br"),o("br"),e._v(" "),e._l(e.poem,function(t,n){return o("div",{staticClass:"form-group col-sm-8 col-sm-offset-2"},[o("label",{attrs:{for:n}},[e._v(e._s(e._f("capitalize")(n)))]),e._v(" "),o("h5",[e._v(e._s(t.description)+"\n      "),"multiple-select"==t.type?o("span",[o("br"),o("br"),e._v("\n        You can select multiple with "),o("code",[e._v("shift")]),e._v(","),o("code",[e._v("command")]),e._v(", or "),o("code",[e._v("ctrl")]),e._v(".\n        ")]):e._e()]),e._v(" "),"text"==t.type?o("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"item.value"}],staticClass:"form-control",attrs:{type:"text",id:n},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}):"number"==t.type?o("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"item.value"}],staticClass:"form-control",attrs:{type:"number",id:n},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)},blur:function(t){e.$forceUpdate()}}}):"longtext"==t.type?o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"item.value"}],staticClass:"form-control",attrs:{rows:"10",id:n},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}):"select"==t.type?o("select",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"item.value"}],staticClass:"form-control",attrs:{id:n},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});t.value=e.target.multiple?o:o[0]}}},e._l(t.options,function(t){return o("option",{domProps:{value:t}},[e._v(e._s(t))])})):"multiple-select"==t.type?o("select",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"item.value"}],staticClass:"form-control",attrs:{id:n,multiple:""},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});t.value=e.target.multiple?o:o[0]}}},e._l(t.options,function(t){return o("option",{domProps:{value:t}},[e._v(e._s(t))])})):e._e()])}),e._v(" "),o("div",{staticClass:"col-sm-12"},[o("button",{staticClass:"btn btn-primary",on:{click:e.save}},[e._v("Save")])])],2):e._e()},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container",attrs:{id:"app"}},[o("div",{staticClass:"row"},[o("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" "),o("router-view")],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"home"},[o("h2",[e._v("Insert a New Poem")]),e._v(" "),o("br"),o("br"),e._v(" "),e._l(e.features,function(t,n){return o("div",{staticClass:"form-group col-sm-8 col-sm-offset-2"},[o("label",{attrs:{for:n}},[e._v(e._s(e._f("capitalize")(n)))]),e._v(" "),o("h5",[e._v(e._s(t.description)+"\n      "),"multiple-select"==t.type?o("span",[o("br"),o("br"),e._v("\n        You can select multiple with "),o("code",[e._v("shift")]),e._v(","),o("code",[e._v("command")]),e._v(", or "),o("code",[e._v("ctrl")]),e._v(".\n        ")]):e._e()]),e._v(" "),"text"==t.type?o("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"item.value"}],staticClass:"form-control",attrs:{type:"text",id:n},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}):"number"==t.type?o("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"item.value"}],staticClass:"form-control",attrs:{type:"number",id:n},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)},blur:function(t){e.$forceUpdate()}}}):"longtext"==t.type?o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"item.value"}],staticClass:"form-control",attrs:{rows:"10",id:n},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}):"select"==t.type?o("select",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"item.value"}],staticClass:"form-control",attrs:{id:n},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});t.value=e.target.multiple?o:o[0]}}},e._l(t.options,function(t){return o("option",{domProps:{value:t}},[e._v(e._s(t))])})):"multiple-select"==t.type?o("select",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"item.value"}],staticClass:"form-control",attrs:{id:n,multiple:""},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});t.value=e.target.multiple?o:o[0]}}},e._l(t.options,function(t){return o("option",{domProps:{value:t}},[e._v(e._s(t))])})):e._e()])}),e._v(" "),o("div",{staticClass:"col-sm-12"},[o("button",{staticClass:"btn btn-primary",on:{click:e.save}},[e._v("Save")])])],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"home"},[o("h2",[e._v("View/Edit an existing poem")]),e._v(" "),o("div",{staticClass:"col-sm-6 col-sm-offset-3"},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedPoem,expression:"selectedPoem"}],staticClass:"form-control",on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedPoem=t.target.multiple?o:o[0]}}},e._l(e.existingPoems,function(t,n){return o("option",{domProps:{value:n}},[e._v(e._s(t.title))])}))]),e._v(" "),o("div",{staticClass:"col-sm-12"},[o("h2",[e._v("OR")]),e._v(" "),o("router-link",{staticClass:"btn btn-primary btn-lg",attrs:{to:"/add"}},[e._v("Add New Poem")])],1)])},staticRenderFns:[]}},,,,function(e,t){},function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=o(3),a=o(18),s=o.n(a),r=o(8),i=o(13),l=o(19),u=o.n(l),c=o(17),m=o.n(c),p=o(0),v=o.n(p),f=o(14),d=(o.n(f),o(15)),_=(o.n(d),o(16));o.n(_);n.a.use(u.a),n.a.config.productionTip=!1,n.a.use(m.a),e.jQuery=v.a,new n.a({el:"#app",router:r.a,store:i.a,template:"<App/>",components:{App:s.a}})}).call(t,o(9))}],[90]);
//# sourceMappingURL=app.d7218e19914612623972.js.map